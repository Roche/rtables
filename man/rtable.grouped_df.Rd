% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/rtable.R
\name{rtable.grouped_df}
\alias{rtable.grouped_df}
\title{rtables constructor from grouped dataframe source}
\usage{
\method{rtable}{grouped_df}(data, headers = "", format = "",
  rownames = NULL, indent = 0)
}
\arguments{
\item{data}{a grouped_df containing one row per table row}

\item{headers}{the headers to use for the resulting table}

\item{format}{a single format string (parseable as a rtables format string
(e.g. 'xx.xx'), a \code{\link[rtables]{spf}()} format string), a list of
format strings, or a column name to reference for each row from the source
dataframe.}

\item{indent}{a numeric value or a column name to reference for each row from
the source dataframe.}
}
\value{
\code{rtable} object with empty rowname headers inserted to indicate
  dataframe groups
}
\description{
rtables constructor from grouped dataframe source
}
\examples{
mtcars \%>\% 
  group_by(carb, gear, am) \%>\%
  summarize(
    n = n(), mpg.mean = mean(mpg), mpg.sd = sd(mpg), 
    mpg.min = min(mpg), mpg.max = max(mpg)) \%>\%
  mutate(
    rownames = ifelse(am == 1, 'Automatic', 'Manual'),
    format   = list(c('\%(n)s', '\%(mpg.mean).2f ± \%(mpg.sd).2f', 
      '\%(mpg.min).1f ... \%(mpg.max).1f'))) \%>\%
  rtable(headers = c('N', 'MPG Mean ± SD', 'Min ... Max')) 

iris \%>\%
  mutate(Petal.Bin = ((Petal.Width + Petal.Length) / 2) \%/\% 0.5) \%>\%
  group_by(Species, Petal.Bin) \%>\%
  summarize_at(vars(matches('^Sepal')), 
    funs(n = n(), mean = mean(.), sd = sd(.))) \%>\%
  mutate(
    pw.min = Petal.Bin * 0.5,
    pw.max = (Petal.Bin + 1) * 0.5) \%>\%
  mutate(
    rownames = paste(pw.min, '≤ Petal <', pw.max),
    format = list(c(
      '\%(Sepal.Width_n)s', 
      '\%(Sepal.Width_mean).2f ± \%(Sepal.Width_sd).2f',
      '\%(Sepal.Length_mean).2f ± \%(Sepal.Length_sd).2f'))) \%>\%
 rtable(headers = c(
   'Count', 
   'Sepal Width\\n(mean ± sd)', 
   'Sepal Length\\n(mean ± sd)'))

}
\author{
Doug Kelkhoff \email{kelkhoff.douglas@gene.com}
}
